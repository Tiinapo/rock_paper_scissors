<!DOCTYPE html>
<html>
<head>
  <title>Page Title</title>
</head>
<body>
  <script>

  	const options = ["rock", "paper", "scissors"];
  
  	// Computer's choice

 	function computer_play(){
 		let computer_choice = options[Math.floor(Math.random() * options.length)];
 		return computer_choice;
 	}

 	// Function that plays 5 rounds of RPS (in total)

 	function game(){

 		let round = 0;
 		let win = 0;
 		let lose = 0;

 		function rps_round(){

 			let player_choice = prompt("Choose a move:");
 			player_choice = player_choice.toLowerCase();

 			while (options.includes(player_choice) === false) {
 				console.log("Invalid input");
 				player_choice = prompt("Choose a move: ");
 			}

 			// Possible outcomes
 			if (player_choice === "rock") {
 				if (computer_play() === "rock") {
 					console.log("It's a draw!");
 				}
 				else if (computer_play() === "paper") {
 					console.log("You lose! Paper beats rock.");
 					lose++;
 				}
 			    else {
 			    	console.log("You win! Rock beats scissors.");
 			    	win++;
 			    }
 		    }

 		    if (player_choice === "paper") {
 		    	if (computer_play() === "paper") {
 		    		console.log("It's a draw!");
 		    	}
 			    else if (computer_play() === "scissors") {
 			    	console.log("You lose! Scissors beat paper.");
 			    	 lose++;
 			    }
 			    else {
 			    	console.log("You win! Paper beats rock.");
 			    	win++;
 			    }
 			}

 		   if (player_choice === "scissors") {
 		   	    if (computer_play() === "scissors") {
 		   	    	console.log("It's a draw!");
 		   	    }
 			    else if (computer_play() === "rock") {
 			    	console.log("You lose! Rock beats scissors.")
 			    	 return lose++;
 			    }
 			    else {
 			    	console.log("You win! Scissors beat paper.")
 			    	return win++;
 			    }
 		    }
 		    }

 		// Checks if all the round have been played yet and increments the round variable

 		while (round < 5) {
 			round++;
 			rps_round();
 		}

 		// Checks whether player lost or won after the game has ended
 	
 		if (win === lose) {
 			console.log("The game has ended. It's a draw!")
 		}
 		else if (win > lose) {
 			console.log("The game has ended. You won!")
 		}
 		else {
 		    console.log("The game has ended. You lost!")
 		}
 		
   }

   // Begins the game 

   game();

  </script>
</body>
</html>
